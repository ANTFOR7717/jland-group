---
// FeaturedTestimonial Component - Reusable featured testimonial card
// Supports different variants and background styles

import { CustomerProfile } from '../index.ts';
// Note: Text requires direct import due to TypeScript compatibility
import Text from '../display/Text.astro';

export interface Props {
  quote: string;
  customerName: string;
  location: string;
  avatarUrl: string;
  rating?: number;
  variant?: 'default' | 'dark' | 'light';
  class?: string;
}

const {
  quote,
  customerName,
  location,
  avatarUrl,
  rating = 5,
  variant = 'default',
  class: className = ''
} = Astro.props;

// Variant styling
const variantStyles = {
  default: {
    backgroundClass: 'bg-brand-primary/90',
    textColor: 'white' as const
  },
  dark: {
    backgroundClass: 'bg-gray-900/95',
    textColor: 'white' as const
  },
  light: {
    backgroundClass: 'bg-white/95',
    textColor: 'default' as const
  }
};

const currentStyle = variantStyles[variant];
---

<div 
  class={`rounded-lg flex flex-col gap-6 p-6 w-full ${currentStyle.backgroundClass} ${className}`}
>
  <Text 
    color={currentStyle.textColor} 
    weight="medium" 
    class="text-xl leading-[32.5px]"
  >
    "{quote}"
  </Text>
  
  <CustomerProfile 
    name={customerName}
    location={location}
    avatarUrl={avatarUrl}
    variant="testimonial"
    showRating={true}
    rating={rating}
  />
</div>