---
// HamburgerMenu Component - Handles hamburger menu button and toggle functionality
import Button from '../buttons/Button.astro';

export interface Props {
  class?: string;
}

const {
  class: className = '',
  ...rest
} = Astro.props;
---

<div class={`md:hidden ${className}`} {...rest}>
  <Button
    variant="hamburger"
    id="menu-toggle"
    onclick="toggleMobileMenu()"
  />
</div>

<script is:inline>
  function toggleMobileMenu() {
    const mobileMenu = document.getElementById('mobile-menu');
    if (mobileMenu) {
      mobileMenu.classList.toggle('hidden');
    }
  }

  // Close menu when clicking on a link
  document.addEventListener('DOMContentLoaded', function() {
    const mobileMenu = document.getElementById('mobile-menu');
    if (mobileMenu) {
      const mobileLinks = mobileMenu.querySelectorAll('a');
      mobileLinks.forEach(link => {
        link.addEventListener('click', function() {
          mobileMenu.classList.add('hidden');
        });
      });
    }
  });
</script>