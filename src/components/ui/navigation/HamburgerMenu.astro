---
// HamburgerMenu Component - Handles hamburger menu button and toggle functionality
import Button from '../buttons/Button.astro';

export interface Props {
  class?: string;
}

const {
  class: className = '',
  ...rest
} = Astro.props;
---

<div class={`md:hidden ${className}`} {...rest}>
  <Button variant="hamburger" id="menu-toggle" />
</div>

<script is:inline>
  document.addEventListener('DOMContentLoaded', function() {
    const menuToggle = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');

    if (menuToggle && mobileMenu) {
      menuToggle.addEventListener('click', function() {
        mobileMenu.classList.toggle('hidden');
      });

      // Close menu when clicking on a link
      const mobileLinks = mobileMenu.querySelectorAll('a');
      mobileLinks.forEach(link => {
        link.addEventListener('click', function() {
          mobileMenu.classList.add('hidden');
        });
      });
    }
  });
</script>