---
// CardGrid component for displaying cards in a responsive grid with variant support
export interface Props {
  variant?: 'default' | 'service' | 'roofing' | 'construction' | 'testimonial' | 'showcase';
  columns?: 1 | 2 | 3 | 4;
  gap?: 'sm' | 'md' | 'lg';
  maxWidth?: string;
  class?: string;
}

const { 
  variant = 'default',
  columns = 3,
  gap = 'lg',
  maxWidth = 'max-w-6xl',
  class: className = '' 
} = Astro.props;

const columnClasses = {
  1: 'flex flex-col items-center',
  2: 'grid grid-cols-1 lg:grid-cols-2 justify-items-center',
  3: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 justify-items-center',
  4: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 justify-items-center'
};

// Special layout for showcase variant
const showcaseColumnClasses = {
  1: 'flex flex-col items-center',
  2: 'flex flex-wrap justify-center',
  3: 'flex flex-wrap justify-center',
  4: 'flex flex-wrap justify-center'
};

const gapClasses = {
  sm: 'gap-4',
  md: 'gap-6',
  lg: 'gap-8'
};

// Variant-specific adjustments
const variantAdjustments = {
  default: '',
  service: 'justify-center',
  roofing: 'justify-center',
  construction: 'justify-center',
  testimonial: '',
  showcase: ''
};

// Use showcase layout for showcase variant, regular layout for others
const layoutClasses = variant === 'showcase' ? showcaseColumnClasses[columns] : columnClasses[columns];
const gapClass = variant === 'showcase' ? 'gap-4' : gapClasses[gap];

const gridClass = `${layoutClasses} ${gapClass} ${maxWidth} mx-auto ${variantAdjustments[variant]} ${className}`;
---

<div class={gridClass}>
  <slot />
</div>