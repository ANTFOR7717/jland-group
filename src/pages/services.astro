---
import Layout from '../layouts/Layout.astro';
import Header from '../components/layout/Header.astro';

import { 
  Container, 
  Section, 
  Button, 
  Card, 
  CardGrid, 
  Badge, 
  Icon, 
  Form, 
  Input, 
  ContentBlock, 
  TrustIndicator, 
  TrustIndicatorGroup, 
  FeaturedTestimonial, 
  StarRating 
} from '../components/ui';
import Heading from '../components/ui/display/Heading.astro';
import Text from '../components/ui/display/Text.astro';

// Import services data from existing collections
import { getCollection } from 'astro:content';
const allServices = await getCollection('services');
const roofingServices = allServices.find(service => service.id === 'roofing')?.data;
const constructionServices = allServices.find(service => service.id === 'construction')?.data;

// Define page data structure
const hero = {
  title: "Complete Roofing & Construction Solutions",
  subtitle: "Through our commitment to craftsmanship and system integrity, we deliver solutions that protect your investment for generations. Our GAF Master Elite certification and 50-year warranties demonstrate our confidence in every project.",
  ctaPrimary: { text: "Request an Estimate", href: "#contact" },
  ctaSecondary: { text: "Call (240) 456-7890", href: "tel:+14102920801" }
};

const serviceCategories = [
  {
    title: roofingServices?.title || "Roofing Services",
    description: "Complete roofing solutions from repairs to full replacements using premium materials and expert craftsmanship.",
    services: roofingServices?.services || []
  },
  {
    title: constructionServices?.title || "Construction Services", 
    description: "Full-service construction solutions for residential and commercial projects with attention to detail and quality.",
    services: constructionServices?.services || []
  }
];

const whyChooseUs = {
  title: "Why Choose J Land Contracting?",
  reasons: [
    { title: "Licensed & Insured", description: "Fully licensed and insured for your peace of mind and protection.", icon: "shield" },
    { title: "20+ Years Experience", description: "Two decades of expertise in roofing and construction services.", icon: "star" },
    { title: "Quality Guarantee", description: "We stand behind our work with comprehensive warranties and guarantees.", icon: "verified" },
    { title: "Local Experts", description: "Deep understanding of Maryland weather and building requirements.", icon: "location" },
    { title: "Free Estimates", description: "Transparent pricing with detailed, no-obligation estimates.", icon: "calculator" },
    { title: "Emergency Service", description: "24/7 emergency response for urgent roofing and construction needs.", icon: "clock" }
  ]
};

const serviceAreas = ["Frederick, MD", "Jefferson, MD", "Urbana, MD", "Mount Airy, MD", "New Market, MD", "Monrovia, MD", "Ijamsville, MD", "Walkersville, MD"];

const contact = {
  title: "Ready to Start Your Project?",
  phone: "(240) 456-7890",
  email: "info@jlandgroup.com",
  hours: "Mon-Fri: 7AM-6PM"
};

// Structured data for services
const servicesStructuredData = {
  "@context": "https://schema.org",
  "@type": "Service",
  "provider": {
    "@type": "LocalBusiness",
    "name": "JLand Contracting",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "3636 Glenoble Court",
      "addressLocality": "Jefferson",
      "addressRegion": "MD",
      "postalCode": "21755"
    },
    "telephone": "+1-301-555-0123"
  },
  "serviceType": serviceCategories.flatMap((cat: any) => cat.services.map((service: any) => service.title)),
  "areaServed": serviceAreas,
  "hasOfferCatalog": {
    "@type": "OfferCatalog",
    "name": "Construction and Roofing Services",
    "itemListElement": serviceCategories.flatMap((cat: any, catIndex: number) => 
      cat.services.map((service: any, serviceIndex: number) => ({
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "name": service.title,
          "description": service.description
        }
      }))
    )
  }
};
---

<Layout>
  <Fragment slot="head">
    <title>Professional Roofing & Construction Services in Frederick, MD</title>
    <meta name="description" content="Expert roofing and construction services in Frederick, MD featuring GAF Master Elite certification, 50-year system warranties, and proven long-term performance for residential and commercial properties." />
    <meta name="keywords" content="roofing services Frederick MD, roof repair, roof replacement, construction services, exterior contractors, licensed roofers Maryland" />
    <link rel="canonical" href={`${Astro.site}${Astro.url.pathname}`} />
    <script type="application/ld+json" set:html={JSON.stringify(servicesStructuredData)} />
  </Fragment>
  
  <Header />
  <!-- Hero Section -->
  <Section background="dark">
    <Container>
      <div class="text-center max-w-4xl mx-auto">
        <div class="mb-6">
          <div class="inline-flex items-center justify-center mb-4 text-white bg-brand-primary px-4 py-2 rounded-full font-semibold">Professional Services</div>
        </div>
        <h1 class="text-5xl md:text-6xl font-bold text-white mb-6 leading-tight">
          Expert Roofing &<br>
          <span class="text-accent-primary">Construction Services</span>
        </h1>
        <p class="text-xl text-white mb-8 leading-relaxed">
          Professional roofing, construction, and exterior services throughout Frederick, MD and surrounding areas. 
          Licensed, insured, and backed by 20+ years of experience delivering quality results.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-8">
          <Button href="#contact" variant="primary" size="lg" class="text-center text-sm sm:text-base">
            Request an Estimate
          </Button>
          <Button href="tel:+14102920801" variant="primary" size="lg" class="bg-white text-brand-primary border-white hover:bg-gray-100 text-center text-sm sm:text-base">
            Call (240) 456-7890
          </Button>
        </div>
        <div class="flex flex-wrap justify-center gap-6 text-sm text-white">
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-accent-primary" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
            </svg>
            <span>GAF Master Elite Certified</span>
          </div>
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-accent-primary" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
            </svg>
            <span>50-Year System Warranties</span>
          </div>
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-accent-primary" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
            </svg>
            <span>500+ Successful Projects</span>
          </div>
        </div>
      </div>
    </Container>
  </Section>

  <!-- Services Categories -->
  <Section class="py-20 bg-background-light">
    <Container>
      <div class="text-center mb-12">
           <Heading level={2} size="3xl" class="mb-4 font-bold text-brand-primary">
             Our Services
           </Heading>
           <Text variant="lead" class="text-brand-secondary max-w-3xl mx-auto">
             Professional roofing and construction services for your home or business
           </Text>
         </div>

      {serviceCategories.map((category: any, index: number) => (
        <div class="mb-20 last:mb-0">
          <div class="text-center mb-12">
 <div class="inline-flex items-center bg-brand-primary/10 text-brand-primary px-4 py-2 rounded-full text-sm font-semibold mb-6">
                <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M1 11V23H23V11L12 2L1 11ZM13 21H11V15H13V21ZM15 14H9V12H15V14Z" />
                </svg>
                Residential
              </div>
            <Heading level={3} size="2xl" class="mb-4 font-bold text-brand-primary">
              {category.title}
            </Heading>
            <Text variant="lead" class="text-brand-secondary max-w-2xl mx-auto">
              {category.description}
            </Text>
          </div>
          
          <CardGrid columns={3} gap="lg" class="mb-8">
            {category.services.map((service: any, serviceIndex: number) => (
              <Card 
                variant="service"
                title={service.title}
                description={service.description}
                image={service.image}
                features={service.features}
                buttonText={service.buttonText}
                buttonHref={service.buttonHref}
                cta={{ text: service.buttonText, href: service.buttonHref }}
                class="h-full hover:shadow-xl transition-all duration-300 hover:-translate-y-1"
              />
            ))}
          </CardGrid>
          
          <div class="text-center">
            <Button
              variant="primary"
              size="lg"
              href="#contact"
              class="font-semibold px-8 py-4 text-center text-sm sm:text-base"
            >
              Learn More
            </Button>
          </div>
        </div>
      ))}
    </Container>
  </Section>

  <!-- Why Choose Us Section -->
  <Section class="py-20 bg-white">
    <Container>
      <div class="text-center mb-16">
        <Heading level={2} size="3xl" class="mb-4 font-bold text-brand-primary">
          {whyChooseUs.title}
        </Heading>
        <Text variant="lead" class="text-brand-secondary max-w-3xl mx-auto">
          Discover why homeowners and businesses trust us for their construction and roofing needs.
        </Text>
      </div>
      
      <CardGrid columns={3} gap="lg">
        {whyChooseUs.reasons.map((reason: any) => (
          <Card 
            variant="default"
            title={reason.title}
            description={reason.description}
            icon={reason.icon}
            class="text-center p-8 hover:shadow-lg transition-shadow duration-300"
          />
        ))}
      </CardGrid>
    </Container>
  </Section>

  <!-- Customer Testimonials Section -->
  <Section class="py-20 bg-gray-900">
    <Container>
      <div class="text-center mb-16">
        <Heading level={2} size="3xl" class="mb-4 font-bold text-white">
          What Our Customers Say
        </Heading>
        <Text variant="lead" class="text-gray-300 max-w-3xl mx-auto mb-6">
          Don't just take our word for it - hear from our satisfied customers
        </Text>
        <div class="flex items-center justify-center gap-2">
          <StarRating rating={5} size="lg" />
          <Text class="text-white font-semibold ml-2">4.9/5 from 200+ reviews</Text>
        </div>
      </div>
      
      <CardGrid columns={3} gap="lg">
        <FeaturedTestimonial 
          quote="The roof replacement was clean and awesome! It was done in a day and a half! This looks like a company that you can definitely trust and rely on for roof replacement!"
          customerName="Jason Chung"
          location="Urbana, MD"
          avatarUrl="https://static.motiffcontent.com/private/resource/image/198439e0630fba4-021c3edf-0bdd-4d68-8313-d45e303dc69c.jpeg"
          rating={5}
          variant="dark"
        />
        <FeaturedTestimonial 
          quote="I could not have been happier with the job Danny and JLand Contracting completed for us. He was extremely helpful and friendly. The roof came out fantastic too. Thanks to him we got our roof replacement fully covered by our insurance! Thanks Danny!"
          customerName="Matthew Marcus"
          location="Frederick, MD"
          avatarUrl="https://static.motiffcontent.com/private/resource/image/198439e0630fba4-021c3edf-0bdd-4d68-8313-d45e303dc69c.jpeg"
          rating={5}
          variant="dark"
        />
        <FeaturedTestimonial 
          quote="Excellent service from start to finish. The team was knowledgeable and helpful throughout the entire process."
          customerName="Michael Thompson"
          location="Jefferson, MD"
          avatarUrl="https://static.motiffcontent.com/private/resource/image/198439e0630fba4-021c3edf-0bdd-4d68-8313-d45e303dc69c.jpeg"
          rating={5}
          variant="dark"
        />
      </CardGrid>
      
      <div class="text-center mt-12">
        <Button 
          variant="secondary" 
          size="lg" 
          href="#contact"
          class="bg-white text-brand-primary hover:bg-gray-100 font-semibold px-8 py-4 text-center text-sm sm:text-base"
        >
          Read More Reviews
        </Button>
      </div>
    </Container>
  </Section>

  <!-- Service Areas Section -->
  <Section class="py-20 bg-background-light">
    <Container>
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div>
          <Heading level={2} size="3xl" class="mb-6 font-bold text-brand-primary">
          Service Areas
        </Heading>
        <Text variant="lead" class="mb-8 text-brand-secondary">
          We proudly serve Frederick, MD and surrounding communities with professional roofing and construction services.
        </Text>
          
          <div class="grid grid-cols-2 gap-4 mb-8">
            {serviceAreas.map((area: any) => (
              <div class="flex items-center space-x-2">
                <Icon name="location" class="w-5 h-5 text-accent-primary" />
                <Text class="font-medium text-brand-primary">{area}</Text>
              </div>
            ))}
          </div>
          
          <Button
            variant="primary"
            size="lg"
            href="#contact"
            class="font-semibold text-center text-sm sm:text-base"
          >
            Request an Estimate
          </Button>
        </div>
        
        <div class="relative">
          <img 
            src="https://static.motiffcontent.com/private/resource/image/198452f61239b99-57820389-60c4-4a5e-8ad9-f5faebfec786.svg" 
            alt="Service areas map" 
            class="w-full h-auto rounded-lg shadow-lg"
            loading="lazy"
          />
        </div>
      </div>
    </Container>
  </Section>

  <!-- Contact CTA Section -->
  <Section background="dark">
    <Container>
      <div class="text-center max-w-4xl mx-auto">
        <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-6 text-white">
          {contact.title} <span class="text-accent-primary">Project?</span>
        </h2>
        <p class="text-xl mb-8 text-white leading-relaxed">
          Ready to start your project? Get in touch with our expert team today.
        </p>
        
        <div class="grid md:grid-cols-3 gap-8 mb-12">
          <div class="text-center">
            <Icon name="phone" class="w-8 h-8 mx-auto mb-4 text-accent-primary" />
            <Text class="font-semibold mb-2 text-white">Call Us Today</Text>
            <Text class="text-white/90">{contact.phone}</Text>
          </div>
          <div class="text-center">
            <Icon name="email" class="w-8 h-8 mx-auto mb-4 text-accent-primary" />
            <Text class="font-semibold mb-2 text-white">Email Us</Text>
            <Text class="text-white/90">{contact.email}</Text>
          </div>
          <div class="text-center">
            <Icon name="clock" class="w-8 h-8 mx-auto mb-4 text-accent-primary" />
            <Text class="font-semibold mb-2 text-white">Business Hours</Text>
            <Text class="text-white/90">{contact.hours}</Text>
          </div>
        </div>
        
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <Button
            variant="primary"
            size="lg"
            href="#contact"
            class="text-center text-sm sm:text-base"
          >
            Request an Estimate
          </Button>
          <Button
            variant="primary"
            size="lg"
            href="/contact"
            class="bg-white text-brand-primary border-white hover:bg-gray-100 text-center text-sm sm:text-base"
          >
            Learn More
          </Button>
        </div>
      </div>
    </Container>
  </Section>
  
  
</Layout>